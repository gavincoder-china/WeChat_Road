!function(){angular.module("ng-weui-actionsheet",[]).directive("weuiActionSheet",["$document",function(e){return{restrict:"E",scope:!0,replace:!0,template:'<div class="ng-weui-action-sheet-backdrop"><div class="weui-actionsheet"><div class="weui-actionsheet__menu"><div class="weui-actionsheet__cell" ng-click="buttonClicked($index)" ng-repeat="b in buttons" ng-class="b.className" ng-bind="b.text"></div><div class="weui-actionsheet__cell destructive action-sheet-destructive" ng-if="destructiveText" ng-click="destructiveButtonClicked()" ng-bind="destructiveText"></div></div><div class="weui-actionsheet__action" ng-if="cancelText"><div class="weui-actionsheet__cell" ng-click="cancel()" ng-bind="cancelText"></div></div></div></div>',link:function(n,t){var i=function(e){27==e.which&&(n.cancel(),n.$apply())},a=function(e){e.target==t[0]&&(n.cancel(),n.$apply())};n.$on("$destroy",function(){t.remove(),e.unbind("keyup",i)}),e.bind("keyup",i),t.bind("click",a)}}}]).provider("$weuiActionSheet",function(){var e=this.defaults={buttons:[],buttonClicked:angular.noop,cancelText:"取消",cancel:angular.noop,cancelOnStateChange:!0};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(n,t,i,a,o,l,r,s,c,u){var d=angular.element,p=d(document.body),v=angular.extend,g=angular.noop,f=angular.copy,m={show:function(n){var t=l.$new(!0);v(t,f(e),n||{});var a=t.element=i("<weui-action-sheet></weui-action-sheet>")(t),o=d(a[0].querySelector(".weui-actionsheet")),r=t.cancelOnStateChange?l.$on("$stateChangeSuccess",function(){t.cancel()}):g;return p.append(a),t.showSheet=function(e){t.removed||(a[0].offsetWidth,a.addClass("active"),o.addClass("weui-actionsheet_toggle"))},t.removeSheet=function(e){t.removed||(t.removed=!0,o.removeClass("weui-actionsheet_toggle"),a.removeClass("active"),r(),a.on("transitionend",function(){a.remove(),t.cancel.$scope=a=null,(e||g)(n.buttons)}))},t.buttonClicked=function(e){n.buttonClicked(e,n.buttons[e])===!0&&t.removeSheet()},t.destructiveButtonClicked=function(){n.destructiveButtonClicked()===!0&&t.removeSheet()},t.cancel=function(){t.removeSheet(n.cancel)},t.showSheet(),t.cancel.$scope=t,t.cancel}};return m}],this.setDefaults=function(n){angular.extend(e,n)}})}(),function(){angular.module("ng-weui-backdrop",[]).provider("$weuiBackdrop",function(){this.$get=["$document","$timeout","$$rAF","$rootScope",function(e,n,t,i){var a=angular.element,o=a(document.body),l=(angular.extend,angular.noop,angular.copy,{backdropHolds:0,_el:a('<div class="weui-mask hidden"></div>'),_init:function(){o.append(l._el)}}),r={getElement:function(){return l._el},retain:function(){l.backdropHolds++,1===l.backdropHolds&&(l._el.addClass("visible"),i.$broadcast("backdrop.shown"),t(function(){l.backdropHolds>=1&&l._el.addClass("active")}))},release:function(){1===l.backdropHolds&&(l._el.removeClass("active"),i.$broadcast("backdrop.hidden"),n(function(){0===l.backdropHolds&&l._el.removeClass("visible")},400,!1)),l.backdropHolds=Math.max(0,l.backdropHolds-1)}};return l._init(),r}]})}(),function(){angular.module("ng-weui-dialog",[]).directive("weuiDialog",["$document",function(e){return{restrict:"E",scope:!0,replace:!0,template:'<div class="ng-weui-dialog-wrapper hidden"><div class="weui-dialog"><div class="weui-dialog__hd"><strong class="weui-dialog__title" ng-bind="title"></strong></div><div class="weui-dialog__bd" ng-bind="text"></div><div class="weui-dialog__ft"><a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_default" ng-if="cancelText" ng-click="cancel()" ng-bind="cancelText"></a><a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" ng-click="confirm()" ng-bind="confirmText"></a></div></div></div>',link:function(n,t){var i=function(e){27==e.which&&(n.cancel(),n.$apply())};n.$on("$destroy",function(){t.remove(),e.unbind("keyup",i)}),e.bind("keyup",i)}}}]).provider("$weuiDialog",function(){var e=this.defaults={className:void 0,title:void 0,text:void 0,bodyClassName:"ng-weui-dialog-open",cancelText:"取消",cancel:angular.noop,confirmText:"确定",confirm:angular.noop};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$weuiBackdrop",function(n,t,i,a,o,l,r,s,c,u){var d=angular.element,p=d(document.body),v=angular.extend,g=angular.noop,f=angular.copy,m={open:function(n){var t=l.$new(!0);v(t,f(e),n||{});var a=t.element=i("<weui-dialog></weui-dialog>")(t);return p.addClass(t.bodyClassName).append(a),t.showDialog=function(e){if(!t.removed){u.retain();var n=u.getElement();n.addClass("backdrop-dialog"),n.off().on("click",function(e){n.hasClass("backdrop-dialog")&&t.cancel()}),a.addClass("visible"),a[0].offsetWidth,a.addClass("active")}},t.removeDialog=function(e){t.removed||(t.removed=!0,u.release(),u.getElement().removeClass("backdrop-dialog"),a.removeClass("active"),a.on("transitionend",function(){a.remove(),t.$destroy(),t.cancel.$scope=a=null,(e||g)()}))},t.cancel=function(){t.removeDialog(n.cancel)},t.confirm=function(){t.removeDialog(n.confirm)},t.showDialog(),t.cancel.$scope=t,t.cancel}};return m}],this.setDefaults=function(n){angular.extend(e,n)}})}(),function(){angular.module("ng-weui-fileUpload",[]).factory("$weuiFileReader",["$q",function(e){var n=function(e,n,t){return function(){t.$apply(function(){n.resolve(e.result)})}},t=function(e,n,t){return function(){t.$apply(function(){n.reject(e.result)})}},i=function(e,i){var a=new FileReader;return a.onload=n(a,e,i),a.onerror=t(a,e,i),a},a=function(n,t){var a=e.defer(),o=i(a,t);return o.readAsDataURL(n),a.promise};return{readAsDataUrl:a}}]).provider("$weuiFileOptimization",function(){var e=this.defaults={maxWidth:640,maxHeight:640};this.$get=["$q","$http",function(n,t){var i={dataURItoBlob:function(e){var n;n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var t=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([i],{type:t})},resizeFile:function(t,a){var o=n.defer(),l=document.createElement("img"),a=a||{},r=angular.extend(angular.copy(e),a);try{var s=new FileReader;s.onload=function(e){l.src=e.target.result;var n=document.createElement("canvas"),t=n.getContext("2d");t.drawImage(l,0,0);var a=r.maxWidth,s=r.maxHeight,c=l.width,u=l.height;c>u?c>a&&(u*=a/c,c=a):u>s&&(c*=s/u,u=s),n.width=c,n.height=u;var t=n.getContext("2d");t.drawImage(l,0,0,c,u);var d=n.toDataURL("image/jpeg"),p={};p.base64=d,p.blob=i.dataURItoBlob(d),o.resolve(p)},s.readAsDataURL(t)}catch(c){o.resolve(c)}return o.promise}};return{resizeFile:i.resizeFile}}],this.setDefaults=function(n){angular.extend(e,n)}}).directive("weuiFileModel",["$parse","$compile",function(e,n){return{restrict:"A",link:function(t,i,a,o){function l(e){var i=n(e.clone().val(""))(t);e.after(i),e.remove()}var r=e(a.weuiFileModel),s=r.assign;i.bind("change",function(e){t.$apply(function(){s(t,i[0].files[0])}),t.file=(e.srcElement||e.target).files[0],t.$apply(a.fileFn),l(i)})}}}])}(),function(){angular.module("ng-weui-gallery",[]).provider("$weuiGallery",function(){var e=this.defaults={urls:[],index:0,cancel:angular.noop,"delete":angular.noop,animation:"fade-in"};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(n,t,i,a,o,l,r,s,c,u){var d=angular.element,p=d(document.body),v=angular.extend,g=angular.noop,f=angular.copy,m={show:function(n){var t=l.$new(!0);v(t,f(e),n||{});var a=t.element=i('<weui-slide-box show-pager="false" active-slide="index" class="weui-gallery-wrapper"><weui-slide ng-repeat="item in urls track by $index"><div class="weui-gallery"><span class="weui-gallery__img" style="background-image:url({{item}})" ng-click="cancel()"></span><div class="weui-gallery__opr"><a href="javascript:" class="weui-gallery__del" ng-click="delete($index)"><i class="weui-icon-delete weui-icon_gallery-delete"></i></a></div></div></<weui-slide></weui-slide-box>')(t);return a.addClass(t.animation),p.append(a),t.show=function(e){t.removed||(a.addClass("ng-enter active").removeClass("ng-leave ng-leave-active"),a[0].offsetWidth,a.addClass("ng-enter-active"))},t.remove=function(e){t.removed||(t.removed=!0,a.addClass("ng-leave ng-leave-active").removeClass("ng-enter ng-enter-active active"),a.on("transitionend",function(){a.remove(),t.cancel.$scope=a=null,(e||g)(n.urls)}))},t.cancel=function(){t.remove(n.cancel)},t["delete"]=function(e){n["delete"](e,n.urls[e])===!0&&t.remove()},t.show(),t.cancel.$scope=t,t.cancel}};return m}],this.setDefaults=function(n){angular.extend(e,n)}})}(),function(){angular.module("ng-weui-icon",[]).directive("weuiIcon",function(){return{restrict:"E",template:"<i></i>",replace:!0,link:function(e,n,t,i){var a=t.icon||"success";n.addClass("weui-icon-"+a)}}})}(),function(){angular.module("ng-weui-loading",[]).directive("weuiLoading",["$document",function(e){return{restrict:"E",scope:!0,replace:!0,template:'<div class="ng-weui-loading-wrapper hidden"><div class="weui-toast"><i class="weui-loading weui-icon_toast"></i><p class="weui-toast__content"></p></div></div>',link:function(e,n){}}}]).provider("$weuiLoading",function(){var e=this.defaults={template:"数据加载中",templateUrl:null,noBackdrop:!0,hideOnStateChange:!1};this.$get=["$document","$weuiTemplateLoader","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$weuiBackdrop",function(n,t,i,a,o,l,r,s,c,u){var d=angular.element,p=d(document.body),v=angular.extend,g=(angular.noop,angular.copy),f={instance:null,getLoader:function(){return f.instance||(f.instance=t.compile({template:"<weui-loading></weui-loading>",appendTo:p}).then(function(e){return e.show=function(n){var o=n.templateUrl?t.load(n.templateUrl):a.when(n.template||n.content||"");e.scope=n.scope||e.scope,e.isShown||(e.hasBackdrop=!n.noBackdrop,e.hasBackdrop&&(u.retain(),u.getElement().addClass("backdrop-loading"))),o.then(function(n){if(n){var t=d(e.element[0].querySelector(".weui-toast__content"));t.html(n),i(t.contents())(e.scope)}e.isShown&&(e.element.addClass("visible"),e.element[0].offsetWidth,e.element.addClass("active"),p.addClass("ng-weui-loading-active"))}),e.isShown=!0},e.hide=function(){e.isShown&&(e.hasBackdrop&&(u.release(),u.getElement().removeClass("backdrop-loading")),e.element.removeClass("active"),p.removeClass("ng-weui-loading-active"),e.element.removeClass("visible")),e.isShown=!1;var n=d(e.element[0].querySelector(".weui-toast__content"));n.html("")},e})),f.instance}},m={show:function(n){var t=v(g(e),n);return t.hideOnStateChange&&(l.$on("$stateChangeSuccess",m.hide),l.$on("$stateChangeError",m.hide)),f.getLoader().then(function(e){return e.show(t)})},hide:function(){return f.getLoader().then(function(e){return e.hide()})}};return m}],this.setDefaults=function(n){angular.extend(e,n)}})}(),function(){angular.module("ng-weui-msg",[]).directive("weuiMsg",function(){return{scope:{type:"@",title:"@",desc:"@",onSuccess:"&",onWarn:"&"},restrict:"E",template:'<div class="weui-msg"><div class="weui-msg__icon-area"><i class="weui-icon_msg" ng-class="cls"></i></div><div class="weui-msg__text-area"><h2 class="weui-msg__title" ng-bind="title"></h2><p class="weui-msg__desc" ng-bind="desc"></p></div><div class="weui-msg__opr-area"><p class="weui-btn-area"><a href="javascript:void(0);" class="weui-btn weui-btn_primary" ng-click="onSuccess()">确定</a><a href="javascript:void(0);" class="weui-btn weui-btn_default" ng-click="onWarn()">取消</a></p></div><div class="weui-msg__extra-area" ng-transclude></div></div>',replace:!0,transclude:!0,link:function(e,n,t,i){e.cls="warn"===t.type?{"weui-icon-warn":!0}:{"weui-icon-success":!0}}}})}(),function(){angular.module("ng-weui-panel",[]).directive("weuiPanel",function(){return{scope:{title:"@",viewMore:"&"},restrict:"AE",template:'<div class="weui-panel weui-panel_access"><div class="weui-panel__hd" ng-if="!!title" ng-bind="title"></div><div class="weui-panel__bd" ng-transclude></div><div class="weui-panel__ft"><a href="javascript:void(0);" class="weui-cell weui-cell_access weui-cell_link" ng-if="show" ng-click="viewMore()"><div class="weui-cell__bd">查看更多</div><span class="weui-cell__ft"></span></a></div></div>',replace:!0,transclude:!0,link:function(e,n,t,i){e.show=!!t.viewMore&&angular.isFunction(e.viewMore)}}}).directive("panelAppmsg",function(){return{scope:{image:"=",title:"=",desc:"="},require:"^?weuiPanel",restrict:"E",template:'<a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg"><div class="weui-media-box__hd" ng-if="!!image"><img class="weui-media-box__thumb" ng-src="{{image}}" alt=""></div><div class="weui-media-box__bd"><h4 class="weui-media-box__title" ng-bind="title"></h4><p class="weui-media-box__desc" ng-bind="desc"></p></div></a>',replace:!0}}).directive("panelText",function(){return{scope:{image:"=",title:"=",desc:"="},require:"^?weuiPanel",restrict:"E",template:'<div class="weui-media-box weui-media-box_text"><h4 class="weui-media-box__title" ng-bind="title"></h4><p class="weui-media-box__desc" ng-bind="desc"></p><div ng-transclude></div></div>',replace:!0,transclude:!0}}).directive("weuiPanelSm",function(){return{scope:{title:"@"},restrict:"AE",template:'<div class="weui-panel"><div class="weui-panel__hd" ng-if="!!title" ng-bind="title"></div><div class="weui-panel__bd"><div class="weui-media-box weui-media-box_small-appmsg"><div class="weui-cells" ng-transclude></div></div></div></div>',replace:!0,transclude:!0}}).directive("panelAppmsgSm",function(){return{scope:{image:"=",title:"="},require:"^?weuiPanelSm",restrict:"E",template:'<a class="weui-cell weui-cell_access" href="javascript:;"><div class="weui-cell__hd" ng-if="!!image"><img ng-src="{{image}}" alt="" style="width:20px;margin-right:5px;display:block"></div><div class="weui-cell__bd weui-cell_primary"><p ng-bind="title"></p></div><span class="weui-cell__ft"></span></a>',replace:!0}})}(),function(){angular.module("ng-weui-popup",[]).directive("weuiPopup",["$document",function(e){return{restrict:"E",scope:!0,replace:!0,template:'<div class="ng-weui-dialog-wrapper hidden" ng-class="className"><div class="weui-dialog"><div class="weui-dialog__hd"><strong class="weui-dialog__title" ng-bind="title"></strong></div><div class="weui-dialog__bd"></div><div class="weui-dialog__ft" ng-show="buttons.length"><a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_default" ng-repeat="button in buttons" ng-click="$buttonTapped(button, $event)" ng-class="button.type || \'button-default\'" ng-bind="button.text"></a></div></div></div>',link:function(n,t){var i=function(e){if(27==e.which){var i=t.data("$ngWeuiPopup");i.responseDeferred.promise.close(),n.$apply()}};n.$on("$destroy",function(){t.remove(),e.unbind("keyup",i)}),e.bind("keyup",i)}}}]).provider("$weuiPopup",function(){var e=this.defaults={cancelText:"取消",cancelType:"weui-dialog__btn_default",okText:"确定",okType:"weui-dialog__btn_primary"};this.$get=["$q","$timeout","$rootScope","$compile","$weuiTemplateLoader","$weuiBackdrop",function(n,t,i,a,o,l){function r(e){e=g({scope:null,title:"",buttons:[]},e||{});var l={};l.scope=(e.scope||i).$new(),l.element=p("<weui-popup></weui-popup>"),l.responseDeferred=n.defer(),a(l.element)(l.scope),l.element.data("$ngWeuiPopup",l),g(l.scope,{title:e.title,buttons:e.buttons,className:e.className,$buttonTapped:function(e,n){var t=(e.onTap||f).apply(l,[n]);n=n.originalEvent||n,n.defaultPrevented||l.responseDeferred.resolve(t)}});var r=e.templateUrl?o.load(e.templateUrl):e.template||e.content||"";return n.when(r).then(function(e){var n=p(l.element[0].querySelector(".weui-dialog__bd"));e?(n.html(e),a(n.contents())(l.scope)):n.remove()}),l.show=function(){l.isShown||l.removed||(l.isShown=!0,l.isShown&&(v.append(l.element),l.element[0].offsetWidth,l.element.addClass("visible active"),w.focusInput(l.element)))},l.hide=function(e){return e=e||f,l.isShown?(l.isShown=!1,l.element.removeClass("active"),void t(e,250,!1)):e()},l.remove=function(){l.removed||(l.hide(function(){l.element.remove(),l.scope.$destroy()}),l.removed=!0)},l}function s(e){function n(){h.push(i),t(i.show,a,!1),i.responseDeferred.promise.then(function(e){var n=h.indexOf(i);return n!==-1&&h.splice(n,1),i.remove(),h.length>0?h[h.length-1].show():(l.release(),l.getElement().removeClass("backdrop-popup"),t(function(){h.length||v.removeClass("ng-weui-popup-open")},400,!1)),e})}var i=b._createPopup(e),a=0;if(h.length>0)a=m.stackPushDelay,t(h[h.length-1].hide,a,!1);else{v.addClass("ng-weui-popup-open"),l.retain();var o=l.getElement();o.addClass("backdrop-popup"),o.off().on("click",function(e){o.hasClass("backdrop-popup")&&i.responseDeferred.promise.close()})}return i.responseDeferred.promise.close=function(e){i.removed||i.responseDeferred.resolve(e)},i.responseDeferred.notify({close:i.responseDeferred.close}),n(),i.responseDeferred.promise}function c(n){return s(g({buttons:[{text:n.okText||e.okText,type:n.okType||e.okType,onTap:function(){return!0}}]},n||{}))}function u(n){return s(g({buttons:[{text:n.cancelText||e.cancelText,type:n.cancelType||e.cancelType,onTap:function(){return!1}},{text:n.okText||e.okText,type:n.okType||e.okType,onTap:function(){return!0}}]},n||{}))}function d(n){var t=i.$new(!0);t.data={},t.data.fieldtype=n.inputType?n.inputType:"text",t.data.response=n.defaultText?n.defaultText:"",t.data.placeholder=n.inputPlaceholder?n.inputPlaceholder:"",t.data.maxlength=n.maxLength?parseInt(n.maxLength):"";var a="";return n.template&&/<[a-z][\s\S]*>/i.test(n.template)===!1&&(a="<span>"+n.template+"</span>",delete n.template),s(g({template:a+'<input class="weui-input" ng-model="data.response" type="{{ data.fieldtype }}"maxlength="{{ data.maxlength }}"placeholder="{{ data.placeholder }}">',scope:t,buttons:[{text:n.cancelText||e.cancelText,type:n.cancelType||e.cancelType,onTap:function(){}},{text:n.okText||e.okText,type:n.okType||e.okType,onTap:function(){return t.data.response||""}}]},n||{}))}var p=angular.element,v=p(document.body),g=angular.extend,f=angular.noop,m=(angular.copy,{stackPushDelay:75}),h=[],w={focusInput:function(e){var n=e[0].querySelector("[autofocus]");n&&n.focus()}},b={show:s,alert:c,confirm:u,prompt:d,_createPopup:r,_popupStack:h};return b}],this.setDefaults=function(n){angular.extend(e,n)}})}(),function(){var e=function(e){function n(){return!0}if(e.indexOf("$getByHandle")>-1)throw new Error("Method '$getByHandle' is implicitly added to each delegate service. Do not list it as a method.");return["$log",function(t){function i(e,n){this._instances=e,this.handle=n}function a(){this._instances=[]}function o(e){return function(){var n,i=this.handle,a=arguments,o=0;return this._instances.forEach(function(t){if((!i||i==t.$$delegateHandle)&&t.$$filterFn(t)){o++;var l=t[e].apply(t,a);1===o&&(n=l)}}),!o&&i?t.warn('Delegate for handle "'+i+'" could not find a corresponding element with delegate-handle="'+i+'"! '+e+"() was not called!\nPossible cause: If you are calling "+e+'() immediately, and your element with delegate-handle="'+i+'" is a child of your controller, then your element may not be compiled yet. Put a $timeout around your call to '+e+"() and try again."):n}}return e.forEach(function(e){i.prototype[e]=o(e)}),a.prototype=i.prototype,a.prototype._registerInstance=function(e,t,i){var a=this._instances;return e.$$delegateHandle=t,e.$$filterFn=i||n,a.push(e),function(){var n=a.indexOf(e);n!==-1&&a.splice(n,1)}},a.prototype.$getByHandle=function(e){return new i(this._instances,e)},new a}]},n=function(e){function n(){if(x.offsetWidth){y=S.children,C=y.length,y.length<2&&(e.continuous=!1),$.transitions&&e.continuous&&y.length<3&&(S.appendChild(y[0].cloneNode(!0)),S.appendChild(S.children[1].cloneNode(!0)),y=S.children),_=new Array(y.length),k=x.offsetWidth||x.getBoundingClientRect().width,S.style.width=y.length*k+"px";for(var n=y.length;n--;){var t=y[n];t.style.width=k+"px",t.setAttribute("data-index",n),$.transitions&&(t.style.left=n*-k+"px",l(n,E>n?-k:E<n?k:0,0))}e.continuous&&$.transitions&&(l(a(E-1),-k,0),l(a(E+1),k,0)),$.transitions||(S.style.left=E*-k+"px"),x.style.visibility="visible",e.slidesChanged&&e.slidesChanged()}}function t(n){e.continuous?o(E-1,n):E&&o(E-1,n)}function i(n){e.continuous?o(E+1,n):E<y.length-1&&o(E+1,n)}function a(e){return(y.length+e%y.length)%y.length}function o(n,t){if(E!=n){if(!y)return void(E=n);if($.transitions){var i=Math.abs(E-n)/(E-n);if(e.continuous){var o=i;i=-_[a(n)]/k,i!==o&&(n=-i*y.length+n)}for(var r=Math.abs(E-n)-1;r--;)l(a((n>E?n:E)-r-1),k*i,0);n=a(n),l(E,k*i,t||T),l(n,0,t||T),e.continuous&&l(a(n-i),-(k*i),0)}else n=a(n),s(E*-k,n*-k,t||T);E=n,b(e.callback&&e.callback(E,y[E]))}}function l(e,n,t){r(e,n,t),_[e]=n}function r(e,n,t){var i=y[e],a=i&&i.style;a&&(a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=t+"ms",a.webkitTransform="translate("+n+"px,0)translateZ(0)",a.msTransform=a.MozTransform=a.OTransform="translateX("+n+"px)")}function s(n,t,i){if(!i)return void(S.style.left=t+"px");var a=+new Date,o=setInterval(function(){var l=+new Date-a;return l>i?(S.style.left=t+"px",P&&c(),e.transitionEnd&&e.transitionEnd.call(event,E,y[E]),void clearInterval(o)):void(S.style.left=(t-n)*(Math.floor(l/i*100)/100)+n+"px")},4)}function c(){D=setTimeout(i,P)}function u(){P=e.auto||0,clearTimeout(D)}var d,p,v,g=this;window.navigator.pointerEnabled?(d="pointerdown",p="pointermove",v="pointerup"):window.navigator.msPointerEnabled?(d="MSPointerDown",p="MSPointerMove",v="MSPointerUp"):(d="touchstart",p="touchmove",v="touchend");var f="mousedown",m="mousemove",h="mouseup",w=function(){},b=function(e){setTimeout(e||w,0)},$={addEventListener:!!window.addEventListener,transitions:function(e){var n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var t in n)if(void 0!==e.style[n[t]])return!0;return!1}(document.createElement("swipe"))},x=e.el;if(x){var y,_,k,C,S=x.children[0];e=e||{};var E=parseInt(e.startSlide,10)||0,T=e.speed||300;e.continuous=void 0===e.continuous||e.continuous;var D,L,P=e.auto||0,B={},M={},A={handleEvent:function(t){switch(!t.touches&&t.pageX&&t.pageY&&(t.touches=[{pageX:t.pageX,pageY:t.pageY}]),t.type){case d:this.start(t);break;case f:this.start(t);break;case p:this.touchmove(t);break;case m:this.touchmove(t);break;case v:b(this.end(t));break;case h:b(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":b(this.transitionEnd(t));break;case"resize":b(n)}e.stopPropagation&&t.stopPropagation()},start:function(e){if(e.touches){var n=e.touches[0];B={x:n.pageX,y:n.pageY,time:+new Date},L=void 0,M={},S.addEventListener(p,this,!1),S.addEventListener(m,this,!1),S.addEventListener(v,this,!1),S.addEventListener(h,this,!1),document.addEventListener(v,this,!1),document.addEventListener(h,this,!1)}},touchmove:function(n){if(!(!n.touches||n.touches.length>1||n.scale&&1!==n.scale||g.slideIsDisabled)){e.disableScroll&&n.preventDefault();var t=n.touches[0];M={x:t.pageX-B.x,y:t.pageY-B.y},"undefined"==typeof L&&(L=!!(L||Math.abs(M.x)<Math.abs(M.y))),L||(n.preventDefault(),u(),e.continuous?(r(a(E-1),M.x+_[a(E-1)],0),r(E,M.x+_[E],0),r(a(E+1),M.x+_[a(E+1)],0)):(e.bouncing?M.x=M.x/(!E&&M.x>0||E==y.length-1&&M.x<0?Math.abs(M.x)/k+1:1):(k*E-M.x<0&&(M.x=Math.min(M.x,k*E)),Math.abs(M.x)>k*(y.length-E-1)&&(M.x=Math.max(-k*(y.length-E-1),M.x))),r(E-1,M.x+_[E-1],0),r(E,M.x+_[E],0),r(E+1,M.x+_[E+1],0)),e.onDrag&&e.onDrag())}},end:function(){var n=+new Date-B.time,t=Number(n)<250&&Math.abs(M.x)>20||Math.abs(M.x)>k/2,i=!E&&M.x>0||E==y.length-1&&M.x<0;e.continuous&&(i=!1);var o=M.x<0;L||(t&&!i?(o?(e.continuous?(l(a(E-1),-k,0),l(a(E+2),k,0)):l(E-1,-k,0),l(E,_[E]-k,T),l(a(E+1),_[a(E+1)]-k,T),E=a(E+1)):(e.continuous?(l(a(E+1),k,0),l(a(E-2),-k,0)):l(E+1,k,0),l(E,_[E]+k,T),l(a(E-1),_[a(E-1)]+k,T),E=a(E-1)),e.callback&&e.callback(E,y[E])):e.continuous?(l(a(E-1),-k,T),l(E,0,T),l(a(E+1),k,T)):(l(E-1,-k,T),l(E,0,T),l(E+1,k,T))),S.removeEventListener(p,A,!1),S.removeEventListener(m,A,!1),S.removeEventListener(v,A,!1),S.removeEventListener(h,A,!1),document.removeEventListener(v,A,!1),document.removeEventListener(h,A,!1),e.onDragEnd&&e.onDragEnd()},transitionEnd:function(n){parseInt(n.target.getAttribute("data-index"),10)==E&&(P&&c(),e.transitionEnd&&e.transitionEnd.call(n,E,y[E]))}};this.update=function(){setTimeout(n)},this.setup=function(){n()},this.loop=function(n){return arguments.length&&(e.continuous=!!n),e.continuous},this.enableSlide=function(e){return arguments.length&&(this.slideIsDisabled=!e),!this.slideIsDisabled},this.slide=this.select=function(e,n){u(),o(e,n)},this.prev=this.previous=function(){u(),t()},this.next=function(){u(),i()},this.stop=function(){u()},this.start=function(){c()},this.autoPlay=function(e){!P||P<0?u():(P=e,c())},this.currentIndex=this.selected=function(){return E},this.slidesCount=this.count=function(){return C},this.kill=function(){u(),S.style.width="",S.style.left="",y&&(y=[]),$.addEventListener?(S.removeEventListener(d,A,!1),S.removeEventListener(f,A,!1),S.removeEventListener("webkitTransitionEnd",A,!1),S.removeEventListener("msTransitionEnd",A,!1),S.removeEventListener("oTransitionEnd",A,!1),S.removeEventListener("otransitionend",A,!1),S.removeEventListener("transitionend",A,!1),window.removeEventListener("resize",A,!1)):window.onresize=null},this.load=function(){n(),P&&c(),$.addEventListener?(S.addEventListener(d,A,!1),S.addEventListener(f,A,!1),$.transitions&&(S.addEventListener("webkitTransitionEnd",A,!1),S.addEventListener("msTransitionEnd",A,!1),S.addEventListener("oTransitionEnd",A,!1),S.addEventListener("otransitionend",A,!1),S.addEventListener("transitionend",A,!1)),window.addEventListener("resize",A,!1)):window.onresize=function(){n()}}}};angular.module("ng-weui-slideBox",[]).directive("weuiSlideBox",["$animate","$timeout","$compile","$weuiSlideBoxDelegate","$weuiScrollDelegate",function(e,t,i,a,o){return{restrict:"E",replace:!0,transclude:!0,scope:{autoPlay:"=",doesContinue:"@",slideInterval:"@",showPager:"@",pagerClick:"&",disableScroll:"@",onSlideChanged:"&",activeSlide:"=?",bounce:"@"},controller:["$scope","$element","$attrs",function(e,i,l){function r(e){e&&!s.isScrollFreeze?o.freezeAllScrolls(e):!e&&s.isScrollFreeze&&o.freezeAllScrolls(!1),s.isScrollFreeze=e}var s=this,c=e.$eval(e.doesContinue)===!0,u=e.$eval(e.bounce)!==!1,d=!!angular.isDefined(l.autoPlay)&&!!e.autoPlay,p=d?e.$eval(e.slideInterval)||4e3:0,v=new n({el:i[0],auto:p,continuous:c,startSlide:e.activeSlide,bouncing:u,slidesChanged:function(){e.currentSlide=v.currentIndex(),t(function(){})},callback:function(n){e.currentSlide=n,e.onSlideChanged({index:e.currentSlide,$index:e.currentSlide}),e.$parent.$broadcast("slideBox.slideChanged",n),e.activeSlide=n,t(function(){})},onDrag:function(){r(!0)},onDragEnd:function(){r(!1)}});v.enableSlide(e.$eval(l.disableScroll)!==!0),e.$watch("activeSlide",function(e){angular.isDefined(e)&&v.slide(e)}),e.$on("slideBox.nextSlide",function(){v.next()}),e.$on("slideBox.prevSlide",function(){v.prev()}),e.$on("slideBox.setSlide",function(e,n){v.slide(n)});var g=a._registerInstance(v,l.delegateHandle,function(){return!0});e.$on("$destroy",function(){g(),v.kill()}),this.slidesCount=function(){return v.slidesCount()},this.onPagerClick=function(n){e.pagerClick({index:n})},t(function(){v.load()})}],template:'<div class="weui-slider"><div class="weui-slider-slides" ng-transclude></div></div>',link:function(n,t,a){function o(){if(!l){var e=n.$new();l=angular.element("<weui-pager></weui-pager>"),t.append(l),l=i(l)(e)}return l}e.enabled(t,!1),angular.isDefined(a.showPager)||(n.showPager=!0,o().toggleClass("hide",!1)),a.$observe("showPager",function(e){void 0!==e&&(e=n.$eval(e),o().toggleClass("hide",!e))});var l}}}]).directive("weuiSlide",function(){return{restrict:"E",require:"?^weuiSlideBox",compile:function(e){e.addClass("weui-slider-slide")}}}).directive("weuiPager",function(){return{restrict:"E",replace:!0,require:"^weuiSlideBox",template:'<div class="weui-slider-pager"><span class="weui-slider-pager-page" ng-repeat="slide in numSlides() track by $index" ng-class="{active: $index == currentSlide}" ng-click="pagerClick($index)"><i class="icon"></i></span></div>',link:function(e,n,t,i){var a=function(e){for(var t=n[0].children,i=t.length,a=0;a<i;a++)a==e?t[a].classList.add("active"):t[a].classList.remove("active")};e.pagerClick=function(e){i.onPagerClick(e)},e.numSlides=function(){return new Array(i.slidesCount())},e.$watch("currentSlide",function(e){a(e)})}}}).service("$weuiSlideBoxDelegate",e(["update","slide","select","enableSlide","previous","next","stop","autoPlay","start","currentIndex","selected","slidesCount","count","loop"])).service("$weuiScrollDelegate",e(["resize","scrollTop","scrollBottom","scrollTo","scrollBy","zoomTo","zoomBy","getScrollPosition","anchorScroll","freezeScroll","freezeAllScrolls","getScrollView"]))}(),function(){angular.module("ng-weui-templateLoader",[]).factory("$weuiTemplateLoader",["$compile","$controller","$http","$q","$rootScope","$templateCache",function(e,n,t,i,a,o){function l(e){return t.get(e,{cache:o}).then(function(e){return e.data&&e.data.trim()})}function r(t){t=angular.extend({template:"",templateUrl:"",scope:null,controller:null,locals:{},appendTo:null},t||{});var o=t.templateUrl?this.load(t.templateUrl):i.when(t.template);return o.then(function(i){var o,l=t.scope||a.$new(),r=angular.element("<div>").html(i).contents();return t.controller&&(o=n(t.controller,angular.extend(t.locals,{$scope:l})),r.children().data("$ngControllerController",o)),t.appendTo&&angular.element(t.appendTo).append(r),e(r)(l),{element:r,scope:l}})}return{load:l,compile:r}}])}(),function(){angular.module("ng-weui-toast",[]).directive("weuiToast",["$document",function(e){return{restrict:"E",scope:!0,replace:!0,template:'<div class="ng-weui-toast-wrapper hidden"><div class="weui-toast"><i class="weui-icon-success-no-circle weui-icon_toast"></i><p class="weui-toast__content" ng-bind="text"></p></div></div>',link:function(e,n){}}}]).provider("$weuiToast",function(){var e=this.defaults={type:"default",timer:1500,text:"已完成",noBackdrop:!0,success:angular.noop};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$weuiBackdrop",function(n,t,i,a,o,l,r,s,c,u){var d=angular.element,p=d(document.body),v=angular.extend,g=angular.noop,f=angular.copy,m={show:function(n){var t=l.$new(!0);v(t,f(e),n||{});var a=t.element=i("<weui-toast></weui-toast>")(t);"forbidden"==t.type&&a.addClass("ng-weui-toast-forbidden"),p.append(a),t.noBackdrop||(u.retain(),u.getElement().addClass("backdrop-toast")),a.addClass("visible"),a[0].offsetWidth,a.addClass("active"),t.remove=function(e){r(function(){t.noBackdrop||(u.release(),u.getElement().removeClass("backdrop-toast")),a.removeClass("visible active"),a.remove(),t.$destroy(),(e||g)()},t.timer)},t.cancel=function(){t.remove(n.success)},t.cancel()}};return m}],this.setDefaults=function(n){angular.extend(e,n)}})}(),function(){var e=window.ngWeui||(window.ngWeui={}),n=null!=navigator.userAgent.match(/iPad/i),t=null!=navigator.userAgent.match(/iPhone/i),i=null!=navigator.userAgent.match(/Android/i),a=null!=navigator.userAgent.match(/webOS/i),o=null!=navigator.userAgent.match(/micromessenger/i);e.isIpad=n,e.isIPhone=t,e.isAndroid=i,e.isWebOS=a,e.isWechat=o,e.isMobile=n||t||i||a,e.isPC=!e.isMobile,e.version="v0.0.1",angular.module("ng-weui",["ng-weui-actionsheet","ng-weui-backdrop","ng-weui-dialog","ng-weui-fileUpload","ng-weui-gallery","ng-weui-icon","ng-weui-loading","ng-weui-msg","ng-weui-panel","ng-weui-popup","ng-weui-slideBox","ng-weui-templateLoader","ng-weui-toast"])}();